<div class="container"> <form name="form" class="form-inline"> <h3 class="center">Add a new product</h3> <h4>Upload on file select</h4> <button class="btn btn-default" ngf-select ng-model="image" name="image" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="10MB" ngf-min-height="100" ngf-resize="{width:150, height:150}">select</button> (Maximum file size: 10MB) <img ngf-thumbnail="image" alt="" style="width:100px;height:100px"> <br><br> File: <div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}} <span class="progress" ng-show="f.progress >= 0"> <div style="width:{{f.progress}}%" ng-bind="f.progress + '%'"></div> </span> <br> <div class="form-group col-sm-6"> <label for="itemTitle">Product Name: </label> <input type="text" ng-model="item.title" placeholder="title" class="form-control" id="itemTitle"> </div> <div class="form-group col-sm-6"> <label for="itemPrice">Price: </label> <input type="text" ng-model="item.price" placeholder="price" class="form-control" id="itemPrice"> </div> <div class="form-group col-sm-6"> <label for="itemDescription">Description: </label> <input type="textarea" ng-model="item.description" placeholder="description" class="form-control" id="itemDescription"> </div> <div class="form-group col-sm-6"> <label for="itemCategory">Category: </label> <input type="text" ng-model="item.category" placeholder="category" class="form-control" id="itemCategory"> </div> <div class="form-group col-sm-6"> <label for="itemSaletype">Sale: </label> <input type="text" ng-model="item.saletype" placeholder="saletype" class="form-control" id="itemSaletype"> </div> <div class="form-group col-sm-6"> <label for="itemGender">Gender: </label> <input type="text" ng-model="item.gender" placeholder="gender" class="form-control" id="itemGender"> </div> <div class="form-group col-sm-6"> <label for="itemColor">Color: </label> <input type="text" ng-model="item.color" placeholder="color" class="form-control" id="itemColor"> </div> <div class="form-group col-sm-6"> <label for="itemSize">Size: </label> <input type="text" ng-model="item.size" placeholder="size" class="form-control" id="itemSize"> </div> <div class="form-group col-sm-6"> <label for="itemActive">Active: </label> <input type="text" ng-model="item.active" placeholder="active" class="form-control" id="itemActive"> </div> <div class="form-group col-sm-6"> <label for="itemAvailability">Availability: </label> <input type="text" ng-model="item.availability" placeholder="availability" class="form-control"> </div> <div class="form-group col-sm-6"> <label for="itemBrand">Brand: </label> <input type="text" ng-model="item.brand" placeholder="brand" class="form-control" id="itemBrand"> </div> <div class="form-group col-sm-6"> <label for="itemKeywords">Keywords: </label> <input type="text" ng-model="item.keywords" placeholder="keywords" class="form-control" id="itemKeywords"> </div> <div class="form-group col-sm-6"> <label for="itemQuantity">Quantity</label> <input type="text" ng-model="item.quantity" placeholder="quantity" class="form-control"> </div> <button type="submit" ng-click="submit()" class="btn btn-default">submit</button> </div> </form> </div> <script>$(function() {
    var upload = upload || {}
    $('#uploadForm').on('change', '#files', function(evt) {
      upload.file = evt.target.files;
      evt.preventDefault();
      evt.stopImmediatePropagation();
      console.log(upload.file);
    })
    $('#uploadButton').on("click", function(e){
      e.preventDefault();
      e.stopPropagation();
      upload.uploadFile(upload.file);
    });
    upload.uploadFile = function(file) {
      // very important
      var formData = new FormData(); 
      formData.append("avatar", file[0]); //because it's an array of files
      upload.xhr = new XMLHttpRequest();
      upload.progressNode = $('<p>Progress for ' + files.name + ': <span class="prog"></span>');
      upload.progressNode.appendTo("#progressContainer");
      upload.xhr.addEventListener("progress", function(evt){
        if (evt.lengthComputable) {
              var sofar = Math.floor((evt.loaded / evt.total) * 100) ;
              upload.progressNode.append(' ' + sofar + '%');
            }
      }, false);
      var remoteURL = "http://api-with-upload.dev/upload";
        upload.xhr.open("POST", remoteURL, true);
     
        upload.xhr.send(formData); // files are sent using multipart/form-data. 
    };
  });</script>